{"version":3,"file":"TransactionManager.js","sourceRoot":"","sources":["../src/TransactionManager.ts"],"names":[],"mappings":"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"}